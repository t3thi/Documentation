---
title: "2026-01-09 - Translation Handling Initiative - Team Meeting Minutes"
tags: "Meeting"
---

# Translation Handling Initiative<br>Team Meeting Minutes

[← Back to the overview](https://notes.typo3.org/s/f3ae8fZSD)

- **Date:** 2026-01-09<br>
- **Where:** [Slack Huddle](https://app.slack.com/huddle/T024TUMLZ/C05D7UF1L8M)
- **Participants:**
    - André Buchmann
    - Eric Harrer
    - Martin Clewing
- **No participation:**
    - Astrid Haubold
    - Jo Hasenau
    - Sven Wappler

## Topic 1: Reflections

The meeting began with warm New Year greetings and brief personal updates. Eric and André discussed the recent break and how it allowed time to reset and explore topics like Core development and AI workflows.

## Topic 2: AI-Based Analysis of `-1` Language Identifiers

Eric presented a newly developed, multi-step AI-assisted workflow to identify and annotate locations in the TYPO3 Core where the "Language All“ value (`-1`) is used. The goal is to create a transparent overview of affected code areas by adding `TODO` comments, without altering functionality. This is intended as a first step towards phasing out the use of `-1`.

The workflow consists of **three clearly defined prompts** executed in sequence using **Claude (Opus 4.5)** via **Claude Code**, a developer tool that allows prompt execution directly inside the project directory.

### Breakdown of the Workflow:

1. **Prompt 1 – Context Generation (`CLAUDE.md`)**  
   Claude is instructed to act as a static code analysis expert with deep TYPO3 knowledge. It generates a Markdown file containing:
    - A brief description of the extension’s purpose.
    - A multilingual relevance rating.
    - Identification of hotspots related to language handling.
    - A separation between UI-level translation (e.g. `XLIFF` labels) and database-level logic (`sys_language_uid` etc.).

2. **Prompt 2 – Language Identifier Analysis (`ANALYSIS.md`)**  
   Claude uses the context file to perform a semantic analysis of how `sys_language_uid` and similar fields are used, with focus on:
    - Comparisons against `-1`, `0`, or constants.
    - Implicit language-related logic hidden behind function calls or wrappers.  
      The result is a detailed analysis Markdown file, with:
    - File names and exact line numbers.
    - Descriptions of each occurrence.
    - Classification into useful categories.
    - Structured tables where applicable.

3. **Prompt 3 – Code Comment Annotation**  
   Based on the analysis, Claude inserts structured `TODO` comments directly into the source code:
    - Using standard TYPO3 comment syntax (`// TODO`, `/** @TODO */`).
    - Clearly marking language-related logic without changing functionality.
    - Annotating both production and test code when relevant.

These comments serve as actionable markers for future refactoring efforts.

So far, the following extensions have been analyzed using this method:
- `core`
- `backend`
- `frontend`
- `workspaces`
- `extbase`

The associated prompt files and outputs were shared with André for review. Eric will continue the process with remaining extensions and update the WIP patch accordingly.

## Topic 3: Submitting a WIP Patch and Review Strategy

Eric proposed creating a work in progress patch [[WIP][TASK] Add marker comments for LanguageAll (-1) handling in core code](https://review.typo3.org/c/Packages/TYPO3.CMS/+/92267) with the generated `TODO` comments to serve as a discussion basis. André supported the idea and recommended sharing it with Lolli for feedback. They discussed potential limitations of AI-only analysis and the value of complementing it with deterministic PHP-based parsing (e.g. via AST or Rector) for completeness.

They also considered issues related to rebasing, such as shifting line numbers that might invalidate analysis results. Nonetheless, the team agreed the current results provide immediate value and visibility.

## Topic 4: From Comments to Tests and Refactoring

The team outlined a phased plan:
- **Phase 1:** Add clear `TODO` markers.
- **Phase 2:** Derive **dedicated core tests** for each occurrence to ensure current logic is covered and safe for future changes.
- **Phase 3:** Introduce **helper methods** (e.g. `isAllLanguages()`, `isDefaultLanguage()`) to centralize repeated logic.
- **Phase 4:** Perform breaking changes in TYPO3 v15+ based on robust coverage and generalization.

They emphasized that the first two phases are non-breaking and can be included in TYPO3 v14, thus offering a safe and incremental migration path.

## Topic 5: Communication with Lolli and Planning Ahead

Eric will share the WIP patch with Lolli and ask whether he has concrete tasks or ideas that align with the current findings. They plan to involve Lolli in a future meeting to discuss alignment and division of responsibilities.

## Topic 6: Meeting Rhythm and Availability

The team agreed to maintain weekly Friday meetings for now to retain momentum. André confirmed his availability despite an upcoming vacation. They remain flexible in adjusting the rhythm based on participation and workload.

## Topic 7: Visibility and Role of the Initiative

Eric noted that the initiative is no longer listed on the new TYPO3 community site. The team discussed whether public visibility is still beneficial and agreed that producing tangible contributions (like patches and tests) is currently more important than being officially listed.

## Topic 8: Conceptual Uncertainty and Data Model Challenges

While several ideas for handling translations without `-1` have been explored, no consensus has been reached. The team acknowledged the need to eventually present multiple viable models to the Core team (e.g. Benni, Lolli, etc.) for feasibility feedback.

Eric emphasized the value of practical contributions (tests, generalizations) over extended conceptual work at this stage.

## Topic 9: Extension Coverage and Future Analysis

Eric will continue the AI-driven analysis for additional extensions using the defined prompt sequence. Once complete, he will update the patch accordingly and re-run analysis after rebases if necessary.
