# Translation Handling Initiative – Patch Findings (-1 Language Handling)

**Reference commit (HEAD):** `2925d44512d4dab4523451589defef339e6b662a`

**Changed files:** 48
**Changed lines (entries):** 82

## Findings

| ID | File | Line | Manual review | Test coverage | Valid case | Comments |
|---|---|---:|:---:|:---:|:---:|:---:|
| F-0001 | `typo3/sysext/backend/Classes/Configuration/TranslationConfigurationProvider.php` | +41 | [ ] | [ ] | [ ] | Backend translation tooling – TranslationConfigurationProvider class-level PHPStan type: declares `-1` as valid member of LanguageRef type for representing "all languages" records. THI relevance: type-system definition; needs redefinition if -1 is removed from language identifier domain. |
| F-0002 | `typo3/sysext/backend/Classes/Configuration/TranslationConfigurationProvider.php` | +188 | [ ] | [ ] | [ ] | Backend translation tooling – TranslationConfigurationProvider::translationInfo(): surrounding block uses `languageField > 0` to fetch translations, implicitly excluding `-1` ("all languages") records from translation info results. THI relevance: implicit exclusion pattern; may need explicit handling if -1 semantics change. |
| F-0003 | `typo3/sysext/backend/Classes/ContextMenu/ItemProviders/PageProvider.php` | +273 | [ ] | [ ] | [ ] | Backend UI/permissions – PageProvider::canBeCreated(): `in_array(..., [0, -1])` explicitly allows page creation for records in default language or "all languages". THI relevance: explicit decision point for page creation permissions based on -1. |
| F-0004 | `typo3/sysext/backend/Classes/ContextMenu/ItemProviders/PageProvider.php` | +327 | [ ] | [ ] | [ ] | Backend UI/permissions – PageProvider::canBeCut(): `in_array(..., [0, -1])` explicitly allows cut operations for records in default language or "all languages". THI relevance: explicit decision point for clipboard cut permissions based on -1. |
| F-0005 | `typo3/sysext/backend/Classes/ContextMenu/ItemProviders/PageProvider.php` | +349 | [ ] | [ ] | [ ] | Backend UI/permissions – PageProvider::canBeCopied(): `in_array(..., [0, -1])` explicitly allows copy operations for records in default language or "all languages". THI relevance: explicit decision point for clipboard copy permissions based on -1. |
| F-0006 | `typo3/sysext/backend/Classes/Controller/PageLayoutController.php` | +624 | [ ] | [ ] | [ ] | Backend content display – PageLayoutController::getNumberOfHiddenElements(): surrounding block explicitly includes `-1` in language filter array to count hidden content elements marked for "all languages". THI relevance: explicit query-time inclusion; needs alternative if -1 is eliminated. |
| F-0007 | `typo3/sysext/backend/Classes/Controller/Wizard/LocalizationController.php` | +252 | [ ] | [ ] | [ ] | Backend translation tooling – LocalizationController::getTargets(): explicitly excludes `-1` and `0` from available translation target languages because records cannot be translated "into" all languages. THI relevance: explicit exclusion defining valid translation targets. |
| F-0008 | `typo3/sysext/backend/Classes/Controller/Wizard/LocalizationController.php` | +304 | [ ] | [ ] | [ ] | Backend translation tooling – LocalizationController::getSources(): implicitly excludes `-1` via `languageUid > 0` check and explicitly filters out `-1` from source languages array. THI relevance: prevents "all languages" from being used as translation source. |
| F-0009 | `typo3/sysext/backend/Classes/Domain/Repository/Localization/LocalizationRepository.php` | +74 | [ ] | [ ] | [ ] | Backend translation tooling – LocalizationRepository::fetchOriginLanguage(): explicitly excludes `-1` from origin language detection via `neq(-1)` to prevent invalid translation chains. THI relevance: explicit decision point protecting translation chain integrity. |
| F-0010 | `typo3/sysext/backend/Classes/Form/FormDataProvider/TcaLanguage.php` | +103 | [ ] | [ ] | [ ] | Backend form processing – TcaLanguage::addData(): checks if `-1` exists in systemLanguageRows to determine if "all languages" option should be available in language selector. THI relevance: controls availability of -1 option in backend forms. |
| F-0011 | `typo3/sysext/backend/Classes/Form/FormDataProvider/TcaLanguage.php` | +112 | [ ] | [ ] | [ ] | Backend form processing – TcaLanguage::addData(): explicitly adds `-1` as TCA select item for non-page tables, enabling "all languages" selection in forms. THI relevance: explicit UI provision of -1 option; key elimination point. |
| F-0012 | `typo3/sysext/backend/Classes/LinkHandler/PageLinkHandler.php` | +173 | [ ] | [ ] | [ ] | Backend link browser – PageLinkHandler::getRecordsOnExpandedPage(): explicitly includes `-1` in `sys_language_uid IN (...)` to show content marked for "all languages" as linkable. THI relevance: explicit query-time inclusion for link selection UI. |
| F-0013 | `typo3/sysext/backend/Classes/RecordList/DatabaseRecordList.php` | +2567 | [ ] | [ ] | [ ] | Backend record list – DatabaseRecordList::getQueryBuilder(): explicitly prepends `-1` to language filter array to always display "all languages" records in list view. THI relevance: explicit query-time inclusion ensuring -1 records visible. |
| F-0014 | `typo3/sysext/backend/Classes/RecordList/DatabaseRecordList.php` | +2592 | [ ] | [ ] | [ ] | Backend record list – DatabaseRecordList::getQueryBuilder(): uses `lte(languageField, 0)` which implicitly includes `-1` and `0` when no language filter is active. THI relevance: implicit inclusion pattern via numeric comparison. |
| F-0015 | `typo3/sysext/backend/Classes/View/BackendLayout/ContentFetcher.php` | +86 | [ ] | [ ] | [ ] | Backend content display – ContentFetcher::getContentRecordsPerColumn(): transforms `-1` records into view-mode-specific display context (default language for comparison mode, active language for columns mode). THI relevance: explicit runtime transformation of -1 semantics. |
| F-0016 | `typo3/sysext/backend/Classes/View/BackendLayout/ContentFetcher.php` | +157 | [ ] | [ ] | [ ] | Backend content display – ContentFetcher::getTranslationData(): explicitly excludes `-1` records from untranslated record tracking because "all languages" records cannot be translated. THI relevance: explicit exclusion defining translation behavior. |
| F-0017 | `typo3/sysext/backend/Classes/View/BackendLayout/ContentFetcher.php` | +166 | [ ] | [ ] | [ ] | Backend content display – ContentFetcher::getTranslationData(): skips `-1` records in translation status processing to prevent incorrect mode detection for language-agnostic records. THI relevance: explicit decision point for translation mode detection. |
| F-0018 | `typo3/sysext/backend/Classes/View/PageLayoutContext.php` | +212 | [ ] | [ ] | [ ] | Backend page context – PageLayoutContext::getSiteLanguage(): uses `-1` as array key to retrieve the SiteLanguage object representing "all languages". THI relevance: array key usage for -1; requires mapping adjustment if eliminated. |
| F-0019 | `typo3/sysext/core/Classes/Authentication/BackendUserAuthentication.php` | +627 | [ ] | [ ] | [ ] | Core authentication – BackendUserAuthentication::checkLanguageAccess(): explicitly grants access for `-1` ("all languages") regardless of user language restrictions. THI relevance: explicit permission bypass for -1; security-relevant decision point. |
| F-0020 | `typo3/sysext/core/Classes/Configuration/Tca/TcaEnrichment.php` | +241 | [ ] | [ ] | [ ] | TCA configuration – TcaEnrichment::enrichTransOrigPointerField(): includes `-1` in foreign_table_where for l10n_parent selector allowing reference to language-agnostic records. THI relevance: TCA definition enabling -1 in translation parent selection. |
| F-0021 | `typo3/sysext/core/Classes/Configuration/Tca/TcaPreparation.php` | +92 | [ ] | [ ] | [ ] | TCA configuration – TcaPreparation::configureCategoryRelations(): sets default foreign_table_where with `IN (-1, 0)` for category fields, including language-agnostic categories. THI relevance: TCA default definition for category relations. |
| F-0022 | `typo3/sysext/core/Classes/DataHandling/DataHandler.php` | +3261 | [ ] | [ ] | [ ] | Data handling/write path – DataHandler::process_cmdmap(): preserves `-1` language value when pasting into default language context, preventing unintended language change. THI relevance: explicit write-time preservation of -1 semantics. |
| F-0023 | `typo3/sysext/core/Classes/DataHandling/Localization/DataMapProcessor.php` | +212 | [ ] | [ ] | [ ] | Data handling/write path – DataMapProcessor::buildItem(): excludes records with `language === -1` from localization synchronization processing. THI relevance: explicit exclusion from synchronization; -1 records treated as non-localizable. |
| F-0024 | `typo3/sysext/core/Classes/DataHandling/SlugHelper.php` | +458 | [ ] | [ ] | [ ] | Data handling/slugs – SlugHelper::applyLanguageConstraint(): when language is `-1`, skips language constraint entirely to check slug uniqueness across all languages. THI relevance: explicit -1 handling for global slug uniqueness. |
| F-0025 | `typo3/sysext/core/Classes/DataHandling/SlugHelper.php` | +467 | [ ] | [ ] | [ ] | Data handling/slugs – SlugHelper::applyLanguageConstraint(): explicitly includes `-1` in language filter to check against "all languages" records for slug uniqueness. THI relevance: explicit query-time inclusion for slug validation. |
| F-0026 | `typo3/sysext/core/Classes/Domain/Repository/PageRepository.php` | +691 | [ ] | [ ] | [ ] | Overlay/translation resolution – PageRepository::getRecordOverlay(): returns records with `sys_language_uid === -1` unchanged, bypassing overlay processing entirely. THI relevance: key overlay-time special case; -1 records never overlaid. |
| F-0027 | `typo3/sysext/core/Classes/Resource/Index/MetaDataRepository.php` | +106 | [ ] | [ ] | [ ] | Resource metadata – MetaDataRepository::findByFileUid(): explicitly includes `-1` in `sys_language_uid IN (0, -1)` to fetch language-agnostic metadata records. THI relevance: explicit query-time inclusion for file metadata. |
| F-0028 | `typo3/sysext/core/Configuration/TCA/Overrides/pages.php` | +24 | [ ] | [ ] | [ ] | TCA configuration – pages TCA override: explicitly excludes `-1` from l10n_parent selector for pages table, restricting to default language only (= 0). THI relevance: pages table explicitly disallows -1 as translation parent. |
| F-0029 | `typo3/sysext/core/Tests/Functional/Configuration/FlexForm/FlexFormToolsTest.php` | +1420 | [ ] | [ ] | [ ] | Test/support path – FlexFormToolsTest: verifies that FlexForm category field configuration includes `IN (-1, 0)` in foreign_table_where. THI relevance: test fixture validating -1 presence in TCA output. |
| F-0030 | `typo3/sysext/core/Tests/Functional/Configuration/FlexForm/FlexFormToolsTest.php` | +1433 | [ ] | [ ] | [ ] | Test/support path – FlexFormToolsTest: second assertion for FlexForm category configuration with `IN (-1, 0)`. THI relevance: test fixture validating -1 presence in TCA output. |
| F-0031 | `typo3/sysext/core/Tests/Functional/DataHandling/Slug/SlugHelperUniqueWithLanguageTest.php` | +86 | [ ] | [ ] | [ ] | Test/support path – SlugHelperUniqueWithLanguageTest: test data provider includes `sys_language_uid = -1` case to verify slug uniqueness behavior for "all languages" records. THI relevance: test coverage for -1 slug handling. |
| F-0032 | `typo3/sysext/core/Tests/Functional/DataScenarios/Regular/AbstractActionTestCase.php` | +83 | [ ] | [ ] | [ ] | Test/support path – AbstractActionTestCase::createContentForLanguageAll(): test method creates content with `sys_language_uid = -1` to test "all languages" behavior. THI relevance: test fixture for -1 content creation. |
| F-0033 | `typo3/sysext/core/Tests/Functional/DataScenarios/Regular/AbstractActionTestCase.php` | +123 | [ ] | [ ] | [ ] | Test/support path – AbstractActionTestCase::modifyDefaultContentToLanguageAll(): test method modifies content to `sys_language_uid = -1` to test conversion to language-agnostic. THI relevance: test fixture for -1 assignment. |
| F-0034 | `typo3/sysext/core/Tests/Functional/DataScenarios/Regular/AbstractActionTestCase.php` | +180 | [ ] | [ ] | [ ] | Test/support path – AbstractActionTestCase::copyLanguageAllContent(): test method documents that `-1` element copy behavior depends on paste position context. THI relevance: test fixture documenting -1 copy semantics. |
| F-0035 | `typo3/sysext/core/Tests/Functional/Fixtures/Extensions/test_mm/Configuration/TCA/Overrides/tt_content.php` | +11 | [ ] | [ ] | [ ] | Test/support path – test_mm TCA fixture: includes `IN (-1, 0)` in foreign_table_where for group_mm_1_foreign field. THI relevance: test TCA fixture with -1 in relation config. |
| F-0036 | `typo3/sysext/core/Tests/Functional/Fixtures/Extensions/test_mm/Configuration/TCA/Overrides/tt_content.php` | +28 | [ ] | [ ] | [ ] | Test/support path – test_mm TCA fixture: includes `IN (-1, 0)` in foreign_table_where for select_mm_1_foreign field. THI relevance: test TCA fixture with -1 in relation config. |
| F-0037 | `typo3/sysext/core/Tests/Functional/Fixtures/Extensions/test_mm/Configuration/TCA/tx_test_mm.php` | +70 | [ ] | [ ] | [ ] | Test/support path – test_mm TCA fixture: includes `IN (-1, 0)` in foreign_table_where for parent field. THI relevance: test TCA fixture with -1 in relation config. |
| F-0038 | `typo3/sysext/core/Tests/Functional/Fixtures/Extensions/test_mm/Configuration/TCA/tx_test_mm.php` | +108 | [ ] | [ ] | [ ] | Test/support path – test_mm TCA fixture: includes `IN (-1, 0)` in foreign_table_where for select_mm_1_local field. THI relevance: test TCA fixture with -1 in relation config. |
| F-0039 | `typo3/sysext/core/Tests/Unit/Configuration/Tca/TcaPreparationTest.php` | +79 | [ ] | [ ] | [ ] | Test/support path – TcaPreparationTest: expected output includes `IN (-1, 0)` in category field foreign_table_where. THI relevance: unit test validating -1 in TCA preparation output. |
| F-0040 | `typo3/sysext/core/Tests/Unit/Configuration/Tca/TcaPreparationTest.php` | +170 | [ ] | [ ] | [ ] | Test/support path – TcaPreparationTest: expected output for oneToMany category includes `IN (-1, 0)`. THI relevance: unit test validating -1 in TCA preparation output. |
| F-0041 | `typo3/sysext/core/Tests/Unit/Configuration/Tca/TcaPreparationTest.php` | +208 | [ ] | [ ] | [ ] | Test/support path – TcaPreparationTest: expected output for manyToMany category includes `IN (-1, 0)`. THI relevance: unit test validating -1 in TCA preparation output. |
| F-0042 | `typo3/sysext/extbase/Classes/DomainObject/AbstractDomainObject.php` | +56 | [ ] | [ ] | [ ] | Extbase persistence – AbstractDomainObject property definition: `$_languageUid` declared as `int<-1, max>` allowing `-1` to represent "all languages". THI relevance: type definition; needs redefinition if -1 removed from domain. |
| F-0043 | `typo3/sysext/extbase/Classes/Persistence/Generic/Mapper/DataMapper.php` | +483 | [ ] | [ ] | [ ] | Extbase persistence – DataMapper::getPreparedQuery(): when parent language is `-1`, disables language inheritance for related records. THI relevance: explicit -1 handling affecting relation queries. |
| F-0044 | `typo3/sysext/extbase/Classes/Persistence/Generic/Storage/Typo3DbQueryParser.php` | +737 | [ ] | [ ] | [ ] | Extbase persistence – Typo3DbQueryParser::getLanguageStatement(): explicitly includes `-1` in language filter for default language queries. THI relevance: explicit query-time inclusion in Extbase. |
| F-0045 | `typo3/sysext/extbase/Classes/Persistence/Generic/Storage/Typo3DbQueryParser.php` | +745 | [ ] | [ ] | [ ] | Extbase persistence – Typo3DbQueryParser::getLanguageStatement(): explicitly includes `-1` in language filter when overlays are disabled. THI relevance: explicit query-time inclusion in Extbase free mode. |
| F-0046 | `typo3/sysext/extbase/Classes/Persistence/Generic/Storage/Typo3DbQueryParser.php` | +766 | [ ] | [ ] | [ ] | Extbase persistence – Typo3DbQueryParser::getLanguageStatement(): adds `-1` as separate OR condition in overlay mode for language-agnostic records. THI relevance: explicit query-time handling in Extbase overlay logic. |
| F-0047 | `typo3/sysext/extbase/Tests/Functional/Persistence/AddTest.php` | +76 | [ ] | [ ] | [ ] | Test/support path – AddTest::addObjectSetsDefinedLanguageTest(): explicitly sets `_languageUid = -1` to test persistence of language-agnostic records. THI relevance: test coverage for -1 persistence. |
| F-0048 | `typo3/sysext/extbase/Tests/Functional/Persistence/Generic/Storage/Typo3DbQueryParserTest.php` | +214 | [ ] | [ ] | [ ] | Test/support path – Typo3DbQueryParserTest::languageStatementWorksForDefaultLanguage(): asserts query includes `IN (0, -1)`. THI relevance: test validating -1 in query output. |
| F-0049 | `typo3/sysext/extbase/Tests/Functional/Persistence/Generic/Storage/Typo3DbQueryParserTest.php` | +238 | [ ] | [ ] | [ ] | Test/support path – Typo3DbQueryParserTest::languageStatementWorksForNonDefaultLanguage(): asserts query includes `IN (1, -1)`. THI relevance: test validating -1 in query output. |
| F-0050 | `typo3/sysext/extbase/Tests/Functional/Persistence/Generic/Storage/Typo3DbQueryParserTest.php` | +258 | [ ] | [ ] | [ ] | Test/support path – Typo3DbQueryParserTest::languageStatementWorksInBackendContext(): asserts query includes `IN (1, -1)`. THI relevance: test validating -1 in query output. |
| F-0051 | `typo3/sysext/filelist/Classes/FileList.php` | +639 | [ ] | [ ] | [ ] | Backend file list – FileList::getTranslationsForMetaData(): uses `> 0` constraint to exclude `-1` from translation queries for file metadata. THI relevance: implicit exclusion via numeric comparison. |
| F-0052 | `typo3/sysext/filelist/Classes/FileList.php` | +1237 | [ ] | [ ] | [ ] | Backend file list – FileList::createControlTranslation(): filters system languages to `uid > 0`, excluding `-1` from translation dropdown. THI relevance: explicit exclusion from translation UI. |
| F-0053 | `typo3/sysext/frontend/Classes/Category/Collection/CategoryCollection.php` | +140 | [ ] | [ ] | [ ] | Frontend rendering – CategoryCollection::getCollectedRecords(): explicitly includes `-1` in `IN (0, -1)` language constraint for category collections. THI relevance: explicit query-time inclusion in frontend. |
| F-0054 | `typo3/sysext/frontend/Classes/ContentObject/ContentObjectRenderer.php` | +4925 | [ ] | [ ] | [ ] | Frontend rendering – ContentObjectRenderer::getLanguageRestriction(): explicitly includes `-1` in `IN (0, -1)` for overlay mode queries. THI relevance: key frontend query-time inclusion for overlays. |
| F-0055 | `typo3/sysext/frontend/Classes/ContentObject/ContentObjectRenderer.php` | +4952 | [ ] | [ ] | [ ] | Frontend rendering – ContentObjectRenderer::getLanguageRestriction(): explicitly includes `-1` in language filter for free mode queries. THI relevance: key frontend query-time inclusion for free mode. |
| F-0056 | `typo3/sysext/frontend/Tests/Functional/Rendering/LocalizedSiteContentRenderingTest.php` | +75 | [ ] | [ ] | [ ] | Test/support path – LocalizedSiteContentRenderingTest class documentation: notes that `-1` ("all languages") records are always fetched in all rendering modes. THI relevance: test documentation of -1 behavior. |
| F-0057 | `typo3/sysext/impexp/Classes/Export.php` | +199 | [ ] | [ ] | [ ] | Import/export – Export::setRecordTree(): excludes `-1` from translation parent check via `> 0` condition, preventing export of records with "all languages" translation parent. THI relevance: implicit exclusion in export logic. |
| F-0058 | `typo3/sysext/impexp/Classes/Export.php` | +260 | [ ] | [ ] | [ ] | Import/export – Export::getTranslationForPage(): explicitly excludes `-1` via `> 0` constraint when fetching page translations. THI relevance: implicit exclusion ensuring only actual translations exported. |
| F-0059 | `typo3/sysext/impexp/Classes/Export.php` | +552 | [ ] | [ ] | [ ] | Import/export – Export::exportAddRecord(): excludes `-1` from manual relation tracking via `> 0` check on translation source field. THI relevance: implicit exclusion in relation export. |
| F-0060 | `typo3/sysext/impexp/Classes/Import.php` | +980 | [ ] | [ ] | [ ] | Import/export – Import::addSingle(): strict default language check (`=== '0'`) excludes `-1`, preventing record reuse for "all languages" metadata during import. THI relevance: implicit exclusion affecting import behavior. |
| F-0061 | `typo3/sysext/impexp/Classes/Import.php` | +1052 | [ ] | [ ] | [ ] | Import/export – Import::addSingle(): normalizes unresolved translation source field to `0` to satisfy database integrity, affecting `-1` records. THI relevance: normalization point for import. |
| F-0062 | `typo3/sysext/impexp/Classes/Import.php` | +1097 | [ ] | [ ] | [ ] | Import/export – Import::getSysFileMetaDataFromDatabase(): explicit equality constraint on sys_language_uid excludes `-1` unless explicitly queried. THI relevance: explicit query pattern in import. |
| F-0063 | `typo3/sysext/impexp/Classes/View/ExportPageTreeView.php` | +53 | [ ] | [ ] | [ ] | Import/export – ExportPageTreeView::init(): explicitly filters for `sys_language_uid=0`, excluding `-1` from page tree for export. THI relevance: explicit exclusion in export tree. |
| F-0064 | `typo3/sysext/indexed_search/Classes/Domain/Repository/IndexSearchRepository.php` | +803 | [ ] | [ ] | [ ] | Indexed search – IndexSearchRepository::languageWhere(): bypasses language filtering entirely when `languageUid < 0`, treating `-1` as "all languages" search mode. THI relevance: explicit -1 handling for search scope. |
| F-0065 | `typo3/sysext/linkvalidator/Classes/LinkAnalyzer.php` | +225 | [ ] | [ ] | [ ] | Link validation – LinkAnalyzer::checkLinks(): assigns `-1` to language field when source table lacks language awareness or field is unset. THI relevance: default value assignment for non-language-aware tables. |
| F-0066 | `typo3/sysext/linkvalidator/Classes/QueryRestrictions/EditableRestriction.php` | +245 | [ ] | [ ] | [ ] | Link validation – EditableRestriction::buildExpression(): explicitly includes `-1` in language constraint to ensure broken links from non-language-aware records are visible. THI relevance: explicit query-time inclusion for visibility. |
| F-0067 | `typo3/sysext/linkvalidator/Classes/QueryRestrictions/EditableRestriction.php` | +246 | [ ] | [ ] | [ ] | Link validation – EditableRestriction::buildExpression(): continuation of `-1` inclusion logic in language OR conditions. THI relevance: explicit query-time inclusion for visibility. |
| F-0068 | `typo3/sysext/linkvalidator/Classes/Result/LinkAnalyzerResult.php` | +210 | [ ] | [ ] | [ ] | Link validation – LinkAnalyzerResult::processBrokenLinks(): skips localized page lookup when language is `-1` or `0` (language-agnostic or default). THI relevance: explicit -1 handling for page resolution. |
| F-0069 | `typo3/sysext/linkvalidator/Classes/Result/LinkAnalyzerResult.php` | +211 | [ ] | [ ] | [ ] | Link validation – LinkAnalyzerResult::processBrokenLinks(): continuation of `-1` handling in real_pid calculation. THI relevance: explicit -1 handling for page resolution. |
| F-0070 | `typo3/sysext/linkvalidator/ext_tables.sql` | +6 | [ ] | [ ] | [ ] | Mechanical/definition – tx_linkvalidator_link table: `language` field defaults to `-1` representing broken links from non-language-aware source records. THI relevance: schema definition with -1 as default. |
| F-0071 | `typo3/sysext/rte_ckeditor/Classes/Form/Element/RichTextElement.php` | +281 | [ ] | [ ] | [ ] | Backend RTE – RichTextElement::getLanguageIsoCodeOfContent(): normalizes `-1` to `0` via `max($currentLanguageUid, 0)` for ISO code resolution. THI relevance: explicit normalization of -1 for editor language. |
| F-0072 | `typo3/sysext/seo/Classes/HrefLang/HrefLangGenerator.php` | +62 | [ ] | [ ] | [ ] | SEO/frontend – HrefLangGenerator::__invoke(): special handling for default language (0); marker notes `-1` would proceed to translation lookup. THI relevance: documentation of -1 flow path. |
| F-0073 | `typo3/sysext/seo/Classes/HrefLang/HrefLangGenerator.php` | +117 | [ ] | [ ] | [ ] | SEO/frontend – HrefLangGenerator::getTranslatedPageRecord(): overlay validation only applies when `languageId > 0`, implicitly allowing `-1` to bypass. THI relevance: implicit -1 bypass in overlay validation. |
| F-0074 | `typo3/sysext/seo/Classes/Widgets/Provider/PagesWithoutDescriptionDataProvider.php` | +56 | [ ] | [ ] | [ ] | SEO/backend widget – PagesWithoutDescriptionDataProvider::getPages(): handles `sys_language_uid` which may contain `-1`; invalid language IDs are skipped via exception handling. THI relevance: implicit -1 handling via validation. |
| F-0075 | `typo3/sysext/seo/Classes/XmlSitemap/RecordsXmlSitemapDataProvider.php` | +78 | [ ] | [ ] | [ ] | SEO/frontend sitemap – RecordsXmlSitemapDataProvider::generateItems(): explicitly includes `-1` in language constraint array for sitemap record queries. THI relevance: explicit query-time inclusion in sitemap. |
| F-0076 | `typo3/sysext/workspaces/Classes/Controller/ReviewController.php` | +192 | [ ] | [ ] | [ ] | Workspaces/backend – ReviewController::getSystemLanguages(): transforms language `-1` uid to string `'all'` for frontend compatibility in workspace review. THI relevance: explicit transformation for UI. |
| F-0077 | `typo3/sysext/workspaces/Classes/Service/WorkspaceService.php` | +267 | [ ] | [ ] | [ ] | Workspaces/backend – WorkspaceService::selectAllVersionsFromPages(): excludes `-1` from translation-specific filtering via `$language > 0` condition. THI relevance: implicit exclusion in workspace queries. |
| F-0078 | `typo3/sysext/workspaces/Classes/Service/WorkspaceService.php` | +331 | [ ] | [ ] | [ ] | Workspaces/backend – WorkspaceService::selectAllVersionsFromPages(): would include `-1` in query filtering if passed as language parameter. THI relevance: passthrough behavior for -1. |
| F-0079 | `typo3/sysext/workspaces/Classes/Service/WorkspaceService.php` | +391 | [ ] | [ ] | [ ] | Workspaces/backend – WorkspaceService::getNewVersionsForPages(): excludes `-1` from translation-specific filtering via `$language > 0` condition. THI relevance: implicit exclusion in workspace queries. |
| F-0080 | `typo3/sysext/workspaces/Classes/Service/WorkspaceService.php` | +452 | [ ] | [ ] | [ ] | Workspaces/backend – WorkspaceService::getNewVersionsForPages(): would include `-1` in query filtering if passed as language parameter. THI relevance: passthrough behavior for -1. |
| F-0081 | `typo3/sysext/workspaces/Classes/Service/WorkspaceService.php` | +712 | [ ] | [ ] | [ ] | Workspaces/backend – WorkspaceService::getPageChildrenRecursive(): explicitly filters for `sys_language_uid=0`, excluding `-1` from workspace page tree. THI relevance: explicit exclusion in tree structure. |
| F-0082 | `typo3/sysext/workspaces/Classes/Service/WorkspaceService.php` | +837 | [ ] | [ ] | [ ] | Workspaces/backend – WorkspaceService::isNewPage(): excludes `-1` from translation overlay detection via `$language > 0` condition. THI relevance: implicit exclusion in new page detection. |
